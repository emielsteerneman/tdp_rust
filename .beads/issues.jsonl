{"id":"tdp_rust-1tp","title":"Search Quality: Robust Technical Search","description":"Core product improvement. Address hyphenation normalization, query preprocessing, team-name-as-noise problem, and fuzzy matching gaps. The 'bang bang' vs 'bang-bang' problem is the canonical example: users search with spaces but indexed text uses hyphens. Current fuzzy matching (Jaro-Winkler) only applies to team/league suggestions, not to the core search query pipeline.","status":"open","priority":1,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:06:41.174667843Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:06:41.174667843Z"}
{"id":"tdp_rust-1tp.1","title":"Query text normalization: hyphenation and punctuation","description":"Add a query normalization step in the search pipeline (data_processing/src/search.rs) that generates variant forms of the query before embedding. Specifically:\n1. For hyphenated terms in the query, also generate the space-separated form (and vice versa): 'bang-bang' -\u003e also search 'bang bang', 'bang bang' -\u003e also search 'bang-bang'\n2. Normalize common punctuation: underscores to spaces, camelCase splitting\n3. This normalization must happen BEFORE both dense embedding (embed_string) and sparse embedding (embed_sparse) so that both search paths benefit.\n\nImplementation approach: Create a normalize_query() function in data_processing/src/text/ that returns the original query plus normalized variants. The sparse embedding should include tokens from all variants (union of sparse vectors). The dense embedding should use the best single normalized form.\n\nKey files:\n- data_processing/src/search.rs (Searcher::search method)\n- data_processing/src/text/mod.rs (add normalize module)\n- data_structures/src/text_utils.rs (process_text_to_words - understand existing normalization)\n- data_access/src/embed/mod.rs (embed_sparse function)","status":"open","priority":1,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:00.839181119Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:07:00.839181119Z","dependencies":[{"issue_id":"tdp_rust-1tp.1","depends_on_id":"tdp_rust-1tp","type":"parent-child","created_at":"2026-02-12T22:07:00.841017519Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-1tp.2","title":"Surface team/league suggestions as clickable filter chips in frontend","description":"The backend ALREADY detects team/league name matches from query terms (via Jaro-Winkler fuzzy matching) and returns them as `suggestions.teams` and `suggestions.leagues` in the SearchResult response. The frontend already reads these values but does NOT display them to the user.\n\nIMPORTANT CONSTRAINT: Filters must NEVER be auto-applied. Team names can contain common words (e.g. searching \"force\" should NOT auto-filter on \"ER-Force\"). The user must always be in control.\n\nWhat needs to happen:\n1. Frontend should display suggestion chips when `suggestions.teams` or `suggestions.leagues` are non-empty\n2. Chips should say something like \"Did you mean team: TIGERs Mannheim?\" with a click-to-apply action\n3. Clicking a suggestion chip applies the filter and optionally re-runs the search\n4. User can dismiss suggestions\n\nThis is purely a frontend task — the backend already provides the data.\n\nImplementation location: frontend/src/routes/search/+page.svelte\nRelevant types: SearchSuggestions in frontend/src/lib/types.ts","status":"open","priority":1,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:10.396235411Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:19:04.314523726Z","dependencies":[{"issue_id":"tdp_rust-1tp.2","depends_on_id":"tdp_rust-1tp","type":"parent-child","created_at":"2026-02-12T22:07:10.397795108Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-1tp.3","title":"Expose query normalization metadata in API response","description":"Extend the SearchResult struct to include normalization metadata so the frontend can show what the system changed. Add to data_structures/src/intermediate/search.rs:\n\n- original_query: String (what the user typed)\n- normalized_query: String (after hyphenation/punctuation normalization from 1tp.1)\n\nUpdate the API handler (web/src/routes/search.rs) and API layer (api/src/search.rs) to pass this through.\n\nThis does NOT include intent parsing or auto-applied filters — team/league suggestions are already handled separately via the existing suggestions field.\n\nOnly depends on 1tp.1 (normalization) being complete.","status":"open","priority":1,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:16.692369963Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:20:03.401437597Z","dependencies":[{"issue_id":"tdp_rust-1tp.3","depends_on_id":"tdp_rust-1tp","type":"parent-child","created_at":"2026-02-12T22:07:16.694241905Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-1tp.3","depends_on_id":"tdp_rust-1tp.1","type":"blocks","created_at":"2026-02-12T22:09:54.02264717Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-1tp.3","depends_on_id":"tdp_rust-1tp.2","type":"blocks","created_at":"2026-02-12T22:09:54.071446123Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-1tp.4","title":"Frontend: show query normalization feedback","description":"When the backend normalizes a query (e.g. \"bang bang\" -\u003e \"bang-bang\"), show a subtle feedback line below the search header:\n\n- 'Showing results for \"bang-bang\" (normalized from \"bang bang\")'\n- Only shown when normalized_query differs from original_query\n\nImplementation in frontend/src/routes/search/+page.svelte. Read the normalization metadata added in 1tp.3.\n\nDesign principles:\n- Non-intrusive: small text below header\n- Transparent: always show what was changed\n\nNote: Team/league suggestion chips are handled separately in 1tp.2.","status":"open","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:24.173955489Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:20:06.522726681Z","dependencies":[{"issue_id":"tdp_rust-1tp.4","depends_on_id":"tdp_rust-1tp","type":"parent-child","created_at":"2026-02-12T22:07:24.177030767Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-1tp.4","depends_on_id":"tdp_rust-1tp.3","type":"blocks","created_at":"2026-02-12T22:09:54.12166371Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-1tp.5","title":"Search quality regression test suite","description":"Create an integration test suite that validates search quality using known query/expected-result pairs. This prevents regressions when modifying the search pipeline.\n\nTest cases to include (based on UX discovery findings):\n1. 'bang bang' should return papers containing 'bang-bang' (hyphenation normalization)\n2. 'bang-bang' should return papers containing 'bang bang' (reverse normalization)\n3. 'bang bang tigers' should detect TIGERs Mannheim as a team entity\n4. 'trajectory planning' should return relevant results across multiple leagues\n5. 'ssl battery' should detect SSL as Soccer SmallSize league\n6. 'erforce' should match 'Er-Force' (existing stripped-alphanumeric matching)\n\nImplementation: tests/ directory, using the existing test infrastructure. Tests should run against a test Qdrant instance or use mocked vector client.\n\nKey files:\n- tests/ directory for integration tests\n- data_processing/src/search.rs (Searcher)\n- data_processing/src/text/match_terms.rs (match_terms)","status":"open","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:32.657766012Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:07:32.657766012Z","dependencies":[{"issue_id":"tdp_rust-1tp.5","depends_on_id":"tdp_rust-1tp","type":"parent-child","created_at":"2026-02-12T22:07:32.659819181Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-1tp.5","depends_on_id":"tdp_rust-1tp.1","type":"blocks","created_at":"2026-02-12T22:09:54.171649683Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-37t","title":"Cross-League Discovery: Behavioral Nudges","description":"Design and implement behavioral nudges to help users discover relevant papers outside their own league. Users default to filtering by their own league, which works against the tool's unique value as a cross-league knowledge base. This requires UI design changes, not just feature additions.","status":"open","priority":2,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:06:45.036331566Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:06:45.036331566Z"}
{"id":"tdp_rust-37t.1","title":"Show league diversity indicator on search results","description":"When search results span multiple leagues, display a subtle indicator showing which leagues had matches. This surfaces cross-league relevance without forcing the user to notice it themselves.\n\nImplementation in frontend/src/routes/search/+page.svelte:\n- After the 'Found X results in Y papers' line, add a league breakdown: 'Across Z leagues: Soccer SmallSize (4), Rescue Robot (2), Soccer Humanoid (1)'\n- Each league name should be clickable to filter to that league\n- Use small colored dots or badges per league\n\nData already available: each chunk in SearchResult contains league metadata. No backend changes needed - this is purely frontend.","status":"open","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:39.635663165Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:07:39.635663165Z","dependencies":[{"issue_id":"tdp_rust-37t.1","depends_on_id":"tdp_rust-37t","type":"parent-child","created_at":"2026-02-12T22:07:39.63788806Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-37t.2","title":"Cross-league 'Related in other leagues' section","description":"When a user searches with a league filter active, show a collapsed section below results: 'Also found in other leagues (N results)' with a preview of 2-3 top results from other leagues. This nudges users to explore beyond their bubble without removing their chosen filter.\n\nImplementation approach:\n1. Backend: When a league filter is applied, execute a second search without the league filter (same query, no league constraint) and return the top 3 results from OTHER leagues. Add a 'cross_league_results' field to SearchResult.\n2. Frontend: Show a collapsible section at the bottom of results with these cross-league matches.\n\nKey decision: The second search adds latency. Options:\na. Execute both searches in parallel (preferred - ~0ms extra latency)\nb. Execute sequentially (simpler but slower)\nc. Lazy-load on expand (no extra latency but worse discovery)\n\nRecommend option (a): parallel execution in data_processing/src/search.rs using tokio::join!\n\nKey files:\n- data_processing/src/search.rs (Searcher::search)\n- data_structures/src/intermediate/search.rs (SearchResult struct)\n- frontend/src/routes/search/+page.svelte","status":"open","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:48.544871416Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:07:48.544871416Z","dependencies":[{"issue_id":"tdp_rust-37t.2","depends_on_id":"tdp_rust-37t","type":"parent-child","created_at":"2026-02-12T22:07:48.546375717Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-37t.2","depends_on_id":"tdp_rust-37t.3","type":"blocks","created_at":"2026-02-12T22:09:54.574359626Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-37t.3","title":"Default search without league filter, show league provenance on results","description":"Ensure the default search experience does NOT pre-filter to any league. Currently the frontend does not pre-apply league filters (verified in search/+page.svelte), so this is already correct. However, league provenance on each result card should be more prominent.\n\nUpdate frontend/src/lib/components/PaperGroup.svelte and ChunkResult.svelte to:\n1. Show the league name prominently on each paper group card (with a distinct visual style per league, e.g., colored left border or badge)\n2. Make the league name clickable to filter to that league\n3. Consider a consistent color mapping for leagues to build visual recognition\n\nThis is a frontend-only change. No backend modifications needed.","status":"open","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:07:57.859228861Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:07:57.859228861Z","dependencies":[{"issue_id":"tdp_rust-37t.3","depends_on_id":"tdp_rust-37t","type":"parent-child","created_at":"2026-02-12T22:07:57.860847921Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-aj0","title":"MCP Server Refinement","description":"Improve the existing MCP server with better tool descriptions, additional tools (list_years, list_papers), and refined system instructions. The MCP server already works but has generic descriptions and limited tooling.","status":"closed","priority":3,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:06:47.290959994Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:37:31.773940589Z","closed_at":"2026-02-12T22:37:31.773940589Z","close_reason":"Closed"}
{"id":"tdp_rust-aj0.1","title":"Improve MCP tool descriptions with domain context","description":"Rewrite MCP tool descriptions in mcp/src/server.rs to give LLMs better guidance on how to use each tool effectively. Current descriptions are generic ('Search for information in the database').\n\nImproved descriptions should include:\n- What the tool does in the RoboCup TDP context\n- What parameters are most useful and when\n- Example queries that work well\n- When to use hybrid vs dense vs sparse search\n\nExample for search tool:\n'Search across 2000+ RoboCup Team Description Papers. Use hybrid search_type for general queries. Use sparse for exact technical terms. Filter by league (e.g., Soccer SmallSize), year, or team name. Returns relevant text chunks with source paper metadata.'\n\nAlso improve the parameter-level schemars descriptions in api/src/search.rs SearchArgs.","status":"closed","priority":3,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:08:07.037925773Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:35:20.765691349Z","closed_at":"2026-02-12T22:35:20.765691349Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-aj0.1","depends_on_id":"tdp_rust-aj0","type":"parent-child","created_at":"2026-02-12T22:08:07.046175869Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-aj0.2","title":"Add list_years and list_papers MCP tools","description":"Add two new MCP tools to expose existing API functionality:\n\n1. list_years: Return available years in the corpus. The API endpoint (api/src/list_years.rs) already exists. Wire it into mcp/src/server.rs following the existing list_teams/list_leagues pattern.\n\n2. list_papers: Return papers matching filters (league, year, team). The API endpoint (api/src/list_papers.rs) already exists. Wire it into mcp/src/server.rs.\n\nThese tools help LLMs browse the corpus without searching, which is useful for questions like 'What teams competed in SSL in 2023?' or 'How many papers are available from 2024?'\n\nKey files:\n- mcp/src/server.rs (add tool handlers)\n- api/src/list_years.rs (existing)\n- api/src/list_papers.rs (existing)","status":"closed","priority":3,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:08:13.335484038Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:36:20.664616163Z","closed_at":"2026-02-12T22:36:20.664616163Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-aj0.2","depends_on_id":"tdp_rust-aj0","type":"parent-child","created_at":"2026-02-12T22:08:13.33736957Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-aj0.3","title":"Refine MCP system instructions","description":"Improve the system instructions in mcp/src/server.rs (get_info -\u003e instructions). Refine to:\n\n1. Keep the coffee reference. It is a test for each LLM to see if they read the instructions properly\n2. Add RoboCup domain context: what leagues exist, what TDPs are, the academic context\n3. Add guidance on multi-step research workflows: search broadly first, then narrow by team/league\n4. Add guidance on citing sources: always include league, year, team, and paper section\n5. Keep the warning about indirect claims ('TurtleRabbits paper claims X about TIGERs')\n6. Add guidance on cross-league comparison: when a user asks about a topic, proactively mention if other leagues address it differently\n\nKeep instructions concise - LLMs work better with structured, focused instructions than long prose.","status":"closed","priority":3,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:08:21.712652728Z","created_by":"Emiel Steerneman","updated_at":"2026-02-12T22:37:31.761402902Z","closed_at":"2026-02-12T22:37:31.761402902Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-aj0.3","depends_on_id":"tdp_rust-aj0","type":"parent-child","created_at":"2026-02-12T22:08:21.714374209Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-h17","title":"Add a web interfaces","description":"A web interface is needed which users can use to access team description papers and the search functionality","status":"tombstone","priority":2,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T17:29:46.488315362Z","created_by":"Emiel Steerneman","updated_at":"2026-02-10T22:47:50.06835922Z","deleted_at":"2026-02-10T22:47:50.06835922Z","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"tdp_rust-hih","title":"Activity Logging: Usage Analytics for All Interactions","description":"Add usage analytics capturing ALL interactions from both Web and MCP clients. Purpose: generate usage reports for funding, understand usage patterns.\n\nArchitecture: ActivityClient trait (like MetadataClient/VectorClient) with SQLite backend in a separate activity.db file. Logging happens at the API layer via fire-and-forget tokio::spawn. EventSource enum (Web/Mcp) passed from transport layer.","status":"closed","priority":2,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:06:49.435241378Z","created_by":"Emiel Steerneman","updated_at":"2026-02-13T18:25:14.395939205Z","closed_at":"2026-02-13T18:25:14.395939205Z","close_reason":"All sub-tasks complete: ActivityClient, logging wiring, CLI tool"}
{"id":"tdp_rust-hih.1","title":"ActivityClient trait, SQLite impl, and config wiring","description":"Create the ActivityClient infrastructure:\n1. data_access/src/activity/mod.rs - trait with #[automock], ActivityClientError\n2. data_access/src/activity/sqlite_client.rs - SQLite impl (WAL, Arc\u003cMutex\u003cConnection\u003e\u003e, spawn_blocking)\n3. data_access/src/config.rs - add ActivityConfig to DataAccessConfig\n4. configuration/src/helpers.rs - add load_activity_client() factory\n5. config.toml - add [data_access.activity.sqlite] section\n6. api/src/activity.rs - EventSource enum, fire-and-forget log_activity() helper\n\nSchema: single events table with timestamp, source, event_type, JSON payload.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:08:32.183644397Z","created_by":"Emiel Steerneman","updated_at":"2026-02-13T08:18:35.216860721Z","closed_at":"2026-02-13T08:18:35.216860721Z","close_reason":"ActivityClient trait + SQLite implementation complete with tests","dependencies":[{"issue_id":"tdp_rust-hih.1","depends_on_id":"tdp_rust-hih","type":"parent-child","created_at":"2026-02-12T22:08:32.185753642Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-hih.2","title":"Wire activity logging into all API functions and transport layers","description":"Add activity_client + source params to every API function and update all callers:\n- api/src/search.rs, list_papers.rs, list_years.rs, list_teams.rs, list_leagues.rs, get_tdp_contents.rs\n- web/src/state.rs + mcp/src/state.rs - add activity_client to AppState\n- web/src/main.rs + mcp/src/main.rs - load and pass activity client\n- web/src/routes/*.rs - pass EventSource::Web\n- mcp/src/server.rs - pass EventSource::Mcp\n- For get_paper_handler: extract Referer header and include in payload\n- Update existing tests to pass None for activity_client","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:08:40.454839234Z","created_by":"Emiel Steerneman","updated_at":"2026-02-13T08:18:36.243329268Z","closed_at":"2026-02-13T08:18:36.243329268Z","close_reason":"Activity logging wired into all API functions and transport layers (web + mcp)","dependencies":[{"issue_id":"tdp_rust-hih.2","depends_on_id":"tdp_rust-hih","type":"parent-child","created_at":"2026-02-12T22:08:40.456528337Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-hih.2","depends_on_id":"tdp_rust-hih.1","type":"blocks","created_at":"2026-02-12T22:09:55.34732442Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-hih.3","title":"Analytics query CLI tool for search log analysis","description":"Create a CLI command (or extend pipeline binary) to query the search analytics log and produce reports:\n\n1. Top N most common queries (with frequency)\n2. Top N zero-result queries (candidates for normalization fixes)\n3. Query reformulation patterns (same session, sequential queries)\n4. League filter usage distribution\n5. Search volume over time (daily/weekly)\n6. MCP vs web search ratio\n\nThis is a developer/operator tool, not user-facing. Output as formatted text or CSV.\n\nImplementation: new binary in pipeline/src/bin/ or a subcommand of an existing binary. Reads from the SQLite analytics table.\n\nDepends on the search event schema being implemented and populated with data.","status":"closed","priority":3,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-12T22:08:47.241777624Z","created_by":"Emiel Steerneman","updated_at":"2026-02-13T18:25:14.348103699Z","closed_at":"2026-02-13T18:25:14.348103699Z","close_reason":"Activity CLI tool with summary, recent, and agents commands","dependencies":[{"issue_id":"tdp_rust-hih.3","depends_on_id":"tdp_rust-hih","type":"parent-child","created_at":"2026-02-12T22:08:47.243351812Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-hih.3","depends_on_id":"tdp_rust-hih.1","type":"blocks","created_at":"2026-02-12T22:09:55.3982148Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-im4","title":"Add MCP tool to retrieve an entire tdp its markdown","description":"The metadata client provides functionality to retrieve the contents of a TDP in markdown. What should be added is a tool in the MCP server to retrieve these TDP contents. There should already be a few scaffolding files in there. Using the retrieval TDP content tool requires its league, year, and name, all strings. The index is always 0.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-09T13:15:03.341595768Z","created_by":"Emiel Steerneman","updated_at":"2026-02-09T13:34:10.919670741Z","closed_at":"2026-02-09T13:34:10.919670741Z","close_reason":"Closed"}
{"id":"tdp_rust-lje","title":"Move reusable MCP functions to an 'API' package","description":"Right now, some useful functions such as 'list_teams' and 'search' and 'list_leagues' are stored in the MCP package. Later, when a Discord bot and REST server and other stuff is added, these functions should be located in their own 'API' package from where they can be reused","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-09T13:17:03.409972165Z","created_by":"Emiel Steerneman","updated_at":"2026-02-09T23:10:37.017532705Z","closed_at":"2026-02-09T23:10:37.017532705Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-lje","depends_on_id":"tdp_rust-im4","type":"blocks","created_at":"2026-02-09T13:18:26.825574252Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-mkf","title":"Add exponential backoff retry for OpenAI API rate limits (1M tokens/min) in embed_client","status":"open","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-14T06:49:07.664974097Z","created_by":"Emiel Steerneman","updated_at":"2026-02-14T06:49:07.664974097Z"}
{"id":"tdp_rust-q0j","title":"Add a web interface","description":"Build a website for RoboCup TDP browsing, reading, and search. Svelte frontend + Axum REST backend. Minimal, clean, responsive design. Target audience: RoboCup participants.","status":"closed","priority":2,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:48:57.769898824Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:49:00.700695521Z","closed_at":"2026-02-11T06:49:00.700695521Z","close_reason":"Closed"}
{"id":"tdp_rust-q0j.1","title":"REST API Backend","description":"New 'web' crate in the workspace providing REST API endpoints. Reuses existing api, data_access, data_processing, and data_structures crates. Axum server on port 8080 with CORS. Endpoints: /api/search, /api/papers, /api/papers/:id, /api/teams, /api/leagues, /api/years.","status":"closed","priority":2,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:02.38203389Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:49:00.596587995Z","closed_at":"2026-02-11T06:49:00.596587995Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.1","depends_on_id":"tdp_rust-q0j","type":"parent-child","created_at":"2026-02-10T22:49:02.383836Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.1.1","title":"Extend api crate for web consumption","description":"Add search_structured() to api/src/search.rs that returns SearchResult directly (not serialized string). Make to_filter() public. Add api/src/list_papers.rs returning Vec\u003cTDPName\u003e from metadata_client.load_tdps(). Add api/src/list_years.rs returning sorted Vec\u003cu32\u003e of unique years. Update api/src/lib.rs to export new modules. Files: api/src/search.rs, api/src/list_papers.rs, api/src/list_years.rs, api/src/lib.rs. Verify: cargo test -p api passes.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:09.60700481Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T05:55:22.603480379Z","closed_at":"2026-02-11T05:55:22.603480379Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.1.1","depends_on_id":"tdp_rust-q0j.1","type":"parent-child","created_at":"2026-02-10T22:49:09.611070186Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.1.2","title":"Create web crate scaffolding","description":"Create new web/ workspace crate with Axum REST server. Files: web/Cargo.toml (deps: axum, tower-http with cors, serde, serde_json, tokio, api, configuration, data_access, data_processing, data_structures), web/src/main.rs (follow mcp/src/main.rs pattern: load config.toml, init embed/vector/metadata clients, build Searcher, serve on 0.0.0.0:8080), web/src/state.rs (clone mcp/src/state.rs AppState pattern), web/src/routes/mod.rs (Axum router with CORS layer), web/src/dto.rs (response wrapper DTOs), web/src/error.rs (ApiError to Axum IntoResponse). Add 'web' to workspace members in root Cargo.toml. Add 'web' and 'frontend-dev' targets to Makefile. Verify: cargo build -p web compiles.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:14.282440493Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:15:35.499779067Z","closed_at":"2026-02-11T06:15:35.499779067Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.1.2","depends_on_id":"tdp_rust-q0j.1","type":"parent-child","created_at":"2026-02-10T22:49:14.284235345Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.1.2","depends_on_id":"tdp_rust-q0j.1.1","type":"blocks","created_at":"2026-02-10T22:49:45.44672266Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.1.3","title":"Implement REST endpoints","description":"Implement 6 Axum route handlers in web/src/routes/. GET /api/search: parse query params into SearchArgs, call api::search::search_structured, return JSON. GET /api/papers: call list_papers, return all 485 TDPNames as JSON. GET /api/papers/:id: parse lyti from path, construct TDPName via TryFrom, call get_tdp_contents, return markdown + metadata. GET /api/teams: optional hint param, call list_teams. GET /api/leagues: call list_leagues. GET /api/years: call list_years. Files: web/src/routes/search.rs, papers.rs, teams.rs, leagues.rs, years.rs. Verify: all 6 endpoints respond correctly via curl against running server.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:17.5866685Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:37:42.76559804Z","closed_at":"2026-02-11T06:37:42.76559804Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.1.3","depends_on_id":"tdp_rust-q0j.1","type":"parent-child","created_at":"2026-02-10T22:49:17.589930917Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.1.3","depends_on_id":"tdp_rust-q0j.1.2","type":"blocks","created_at":"2026-02-10T22:49:46.12680444Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.2","title":"Svelte Frontend","description":"SvelteKit 5 frontend in frontend/ directory. TypeScript, Tailwind CSS v4, Vite with API proxy. Pages: landing (hero search + browse grid), search results (grouped chunks), paper view (markdown + PDF placeholder). Minimal, clean, responsive (mobile + desktop).","status":"closed","priority":2,"issue_type":"epic","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:03.972962649Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:49:00.647465538Z","closed_at":"2026-02-11T06:49:00.647465538Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.2","depends_on_id":"tdp_rust-q0j","type":"parent-child","created_at":"2026-02-10T22:49:03.974634058Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.2.1","title":"SvelteKit project scaffolding","description":"Initialize SvelteKit 5 project in frontend/ directory. TypeScript, skeleton template. Install Tailwind CSS v4, @tailwindcss/typography plugin, marked library. Configure Vite proxy in vite.config.ts: /api/* forwards to localhost:8080. Create src/lib/types.ts with TypeScript interfaces mirroring Rust DTOs (Paper, SearchResult, ScoredChunk, SearchResultChunk, League, TeamName). Create src/lib/api.ts with typed fetch wrappers for all 6 endpoints. Verify: npm run dev starts, proxy correctly forwards /api requests to backend.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:22.891082391Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:37:42.817037357Z","closed_at":"2026-02-11T06:37:42.817037357Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.2.1","depends_on_id":"tdp_rust-q0j.2","type":"parent-child","created_at":"2026-02-10T22:49:22.893190218Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.1","depends_on_id":"tdp_rust-q0j.1.2","type":"blocks","created_at":"2026-02-10T22:49:46.771360369Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.2.2","title":"Global layout and navbar","description":"Build the global layout and navigation components. Navbar.svelte: sticky top bar with logo/title on left, SearchBar in center, nav links on right. SearchBar.svelte: text input with search icon, navigates to /search?q=... on Enter. Accepts initialValue prop for pre-filling and compact prop for navbar variant. +layout.svelte: renders Navbar above page slot. +layout.ts: loads papers, teams, leagues, years data on app init for child pages. Files: frontend/src/lib/components/Navbar.svelte, SearchBar.svelte, frontend/src/routes/+layout.svelte, +layout.ts.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:26.156228398Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:40:50.677210175Z","closed_at":"2026-02-11T06:40:50.677210175Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.2.2","depends_on_id":"tdp_rust-q0j.2","type":"parent-child","created_at":"2026-02-10T22:49:26.158246287Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.2","depends_on_id":"tdp_rust-q0j.2.1","type":"blocks","created_at":"2026-02-10T22:49:47.44042736Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.2.3","title":"Landing page with browse","description":"Build the landing/browse page. Hero section with large heading and SearchBar component. Below: FilterSidebar on left + PaperCard grid on right. FilterSidebar.svelte: collapsible sections for league (checkboxes), year (checkboxes sorted desc), team (searchable checkbox list with text filter for 116 teams). Filter state pushed to URL search params. PaperCard.svelte: compact card with team name (bold), year, league badge, links to /paper/[id]. Client-side filtering of 485 papers in-memory based on selected filters. Files: frontend/src/lib/components/FilterSidebar.svelte, PaperCard.svelte, frontend/src/routes/+page.svelte.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:29.897939017Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:42:53.264985418Z","closed_at":"2026-02-11T06:42:53.264985418Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.2.3","depends_on_id":"tdp_rust-q0j.2","type":"parent-child","created_at":"2026-02-10T22:49:29.900755299Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.3","depends_on_id":"tdp_rust-q0j.2.2","type":"blocks","created_at":"2026-02-10T22:49:48.03738207Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.3","depends_on_id":"tdp_rust-q0j.1.3","type":"blocks","created_at":"2026-02-10T22:49:48.893863699Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.2.4","title":"Search results page","description":"Build the search results page. +page.ts reads ?q= from URL and calls /api/search. Frontend groups returned chunks by league_year_team_idx (paper ID), computes average score per group, sorts groups descending by avg score. PaperGroup.svelte: paper metadata header (team, league, year, avg score) with link to /paper/[id], shows top 3 chunk snippets with 'show N more' expandable. ChunkResult.svelte: displays chunk text with keyword highlighting via \u003cmark\u003e tags (split query into words, wrap matches). Filter sidebar available to add league/team/year params to search API call. Files: frontend/src/lib/components/PaperGroup.svelte, ChunkResult.svelte, frontend/src/routes/search/+page.svelte, +page.ts.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:34.637583767Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:42:36.497057421Z","closed_at":"2026-02-11T06:42:36.497057421Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.2.4","depends_on_id":"tdp_rust-q0j.2","type":"parent-child","created_at":"2026-02-10T22:49:34.639764773Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.4","depends_on_id":"tdp_rust-q0j.2.2","type":"blocks","created_at":"2026-02-10T22:49:49.332611217Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.4","depends_on_id":"tdp_rust-q0j.1.3","type":"blocks","created_at":"2026-02-10T22:49:50.009444473Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.2.5","title":"Paper view page","description":"Build the paper view page. +page.ts calls /api/papers/:id to get markdown + metadata. Render markdown to HTML using marked library with Tailwind prose class for typography. Metadata bar at top: team name, league, year. 'View Original PDF' button — disabled/placeholder for now with tooltip 'Coming soon'. Clean typography with max-width container and generous line height. Files: frontend/src/routes/paper/[id]/+page.svelte, +page.ts.","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:37.534883395Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:42:20.417237342Z","closed_at":"2026-02-11T06:42:20.417237342Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.2.5","depends_on_id":"tdp_rust-q0j.2","type":"parent-child","created_at":"2026-02-10T22:49:37.53769076Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.5","depends_on_id":"tdp_rust-q0j.2.2","type":"blocks","created_at":"2026-02-10T22:49:50.631154591Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.5","depends_on_id":"tdp_rust-q0j.1.3","type":"blocks","created_at":"2026-02-10T22:49:51.191331264Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-q0j.2.6","title":"Responsive polish","description":"Add responsive design polish across all components. Mobile breakpoints using Tailwind sm:/md:/lg: prefixes. Navbar: hamburger menu on mobile, search bar becomes full-width. FilterSidebar: collapses to a drawer/modal on mobile. Paper grid: 1 column on mobile, 2 on tablet, 3-4 on desktop. Search results: single column on mobile. Add loading spinners for API calls, error states for failed requests, empty states (no results, no papers matching filter). Optional: page transitions using SvelteKit transitions.","status":"closed","priority":3,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-10T22:49:41.071714102Z","created_by":"Emiel Steerneman","updated_at":"2026-02-11T06:48:26.541871594Z","closed_at":"2026-02-11T06:48:26.541871594Z","close_reason":"Closed","dependencies":[{"issue_id":"tdp_rust-q0j.2.6","depends_on_id":"tdp_rust-q0j.2","type":"parent-child","created_at":"2026-02-10T22:49:41.073482024Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.6","depends_on_id":"tdp_rust-q0j.2.3","type":"blocks","created_at":"2026-02-10T22:49:51.927543766Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.6","depends_on_id":"tdp_rust-q0j.2.4","type":"blocks","created_at":"2026-02-10T22:49:52.511580304Z","created_by":"Emiel Steerneman"},{"issue_id":"tdp_rust-q0j.2.6","depends_on_id":"tdp_rust-q0j.2.5","type":"blocks","created_at":"2026-02-10T22:49:53.08952317Z","created_by":"Emiel Steerneman"}]}
{"id":"tdp_rust-zds","title":"store TDPs as markdown in the metadata client. primary key leage__year__team__index","description":"In the future, a tdp (team description paper) should be able to be retrieved as markdown via e.g. REST call or MCP call. The first step is to store the markdown data in the metadata database, ready for retrieval","status":"closed","priority":2,"issue_type":"task","owner":"emielsteerneman@gmail.com","created_at":"2026-02-09T10:57:48.219323413Z","created_by":"Emiel Steerneman","updated_at":"2026-02-09T13:05:22.680194859Z","closed_at":"2026-02-09T13:05:22.680194859Z","close_reason":"Closed"}
